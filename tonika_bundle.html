<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tonika Bundle</title>
    <link rel="stylesheet" href="css/layout.css" />
</head>
<body>

<header>
    <h1>Tonika</h1>
</header>

<!-- Tabs -->
<div class="tabs">
    <button class="active" onclick="openTab(0)">Chord Selection</button>
    <button onclick="openTab(1)">Tab 2</button>
    <button onclick="openTab(2)">Tab 3</button>
    <button onclick="openTab(3)">Tab 4</button>
    <button onclick="openTab(4)">Tab 5</button>
    <button onclick="openTab(5)">Midonika</button>
</div>

<div class="tab-content">
    <section class="active">
        <div id="chord-selector"></div>
    </section>
    <section>Content for Tab 2</section>
    <section>Content for Tab 3</section>
    <section>Content for Tab 4</section>
    <section>Content for Tab 5</section>
    <section>
        <!-- Container for the MIDI component -->
        <div id="midi-component"></div>

        <!-- Include the script -->
        <script src="js/midonika.js"></script>

        <!-- Initialize the component -->
        <script>
            window.midonika = new Midonika('midi-component');
        </script>

    </section>
</div>

<!-- Keyboard -->
<div class="roll88">
    <div id="piano-container"></div>
</div>


<footer>
    <p>Â© 2025 My Piano Project</p>
</footer>

<script>
    function openTab(index) {
        const tabs = document.querySelectorAll('.tabs button');
        const sections = document.querySelectorAll('.tab-content section');

        tabs.forEach((tab, i) => {
            tab.classList.toggle('active', i === index);
            sections[i].classList.toggle('active', i === index);
        });
    }
</script>

<script src="js/chordonika-bundle.js"></script>
<script src="js/bundled-clavonika.js"></script>
<script src="js/jackonika.js"></script>

<script>
    // Initialize the chord selector
    const chordSelector = ChordSystem.init('#chord-selector');

    // Use the chordSelector
    chordSelector.setChordSelectedCallback((chord) => {
        console.log('Chord selected:', chord);
    });
</script>

<script>
    // initialize piano
    window.piano = Clavonika.init('piano-container');
</script>

    // initialize jackonika
<script>
    const piano = Clavonika.init('piano-container');

    Jackonika.init({
        onNoteOn:  (note, vel) => piano.noteOn?.(note),
        onNoteOff: (note)      => piano.noteOff?.(note),
    });
</script>

</body>
</html>